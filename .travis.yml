language: node_js
node_js:
  - 8
  - 10

cache:
  yarn: true

# See: https://github.com/mozilla/addons-frontend/issues/3034
install: yarn install --pure-lockfile

env:
  - YARN_CMD=test
  # Make sure we can build a production bundle.
  # This also does type checking.
  - YARN_CMD=build

script: "yarn $YARN_CMD"

matrix:
  fast_finish: true
